<!DOCTYPE html>
<html>
<head>
  <title>XAUUSD Risk Calculator</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: 40px auto; padding: 20px; }
    input, select { width: 100%; padding: 8px; margin: 5px 0 15px; }
    button { padding: 10px 20px; cursor: pointer; }
    .output { margin-top: 20px; background: #f5f5f5; padding: 15px; border-radius: 8px; }
  </style>
</head>
<body>

<h2>XAUUSD Position Size Calculator</h2>

<label>Account Balance ($):</label>
<input type="number" id="balance" step="0.01">

<label>Risk per Trade (%):</label>
<input type="number" id="risk" step="0.01">

<label>Entry Price:</label>
<input type="number" id="entry" step="0.01">

<label>Reward-to-Risk Ratio (e.g. 2 = 2:1):</label>
<input type="number" id="rr" step="0.1">

<label>Trade Type:</label>
<select id="type">
  <option value="buy">Buy</option>
  <option value="sell">Sell</option>
</select>

<button onclick="calculate()">Calculate</button>

<div class="output" id="result"></div>

<script>
function calculate() {
  const balance = parseFloat(document.getElementById('balance').value);
  const riskPercent = parseFloat(document.getElementById('risk').value);
  const entry = parseFloat(document.getElementById('entry').value);
  const rr = parseFloat(document.getElementById('rr').value);
  const type = document.getElementById('type').value;

  const riskAmount = balance * (riskPercent / 100);
  const pipValueMicro = 0.10;
  const microLots = riskAmount / pipValueMicro;
  const standardLots = microLots / 100;

  const slDistance = riskAmount / (standardLots * pipValueMicro);
  const tpDistance = slDistance * rr;

  const sl = type === "buy" ? entry - slDistance : entry + slDistance;
  const tp = type === "buy" ? entry + tpDistance : entry - tpDistance;

  document.getElementById('result').innerHTML = `
    <h3>Results</h3>
    Risk Amount: $${riskAmount.toFixed(2)}<br>
    Position Size: ${standardLots.toFixed(4)} standard lots<br>
    Stop Loss: $${sl.toFixed(2)}<br>
    Take Profit: $${tp.toFixed(2)}
  `;
}
</script>

</body>
</html>
